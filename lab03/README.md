## `Docker` Лабораторная работа 3

### Задание

Освоить подход создания легковесного образа путем сборки приложения на одном образе, и запуска на другом. Рекомендуется использовать любое опенсорс приложение требующее сборку приложение (Java, C/C++, Golang, Node).


### Чеклист

- [x] Образ должен быть легковесным
- [x] Использовать базовые легковесные образы - alpine
- [x] Сборка приложения должна происходить в первом образе
- [x] Запуск приложения выполняется во втором образе, через копирование артефакта
- [x] Вся конфигурация выполняется через переменные окружения
- [x] Сборка и запуск приложения должно быть оформлено в одном Dockerfile
- [x] При сборке приложения, каждый этап сборки должен выполняться только при изменении зависимых файлов
- [x] Создать файл docker-compose для старта и сборки
- [x] Контейнер должен запускаться от непривилегированного пользователя
- [x] После установки всех нужных утилит, должен очищаться кеш


### Заметки по решению
- Написал простейшее [приложение](http://localhost/index.html) на Spring Boot, которое представляет собой просто интерактивный список питомцев с одностраничной статикой на html;
- Базовый образ бека в отличие от `lab02` теперь просто alpine, потому что приложение собрано в натив и не требует JVM в системе;
- Миграции реализованы на Flyway;
- У приложения нет внешних настроек, только сугубо статические внутренние, поэтому в переменные окружения вынести нечего;
- `Liberica NIK` пакуется руками из apk, потому что они единственные, кто пакуют GraalVM под alpine, но при этом их пакета нет в базах apk;
- `Gradle` пакуется руками, потому что apk не дает возможности exclude'нуть зависимость (`Gradle` жестко зависит от `OpenJDK 21`), а две JVM в контейнере это уже перебор.
